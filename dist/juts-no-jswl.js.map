{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///external \"$\"","webpack:///external \"jswl\"","webpack:///external \"jquery-ui\"","webpack:///./src/common-plugins/juts-common-jquery-plugins.js","webpack:///./src/common-plugins/juts-common-jquery-ui-plugins.js","webpack:///./src/common/AlreadyInitIdsStorage.js","webpack:///./src/common-plugins/parentCloser.js","webpack:///./src/common-plugins/replaceInAttributes.js","webpack:///./src/nested-forms/fromFiledsGroupAdderFromHiddenTemplate.js","webpack:///./src/nested-forms/parentInParentContainerDublicator.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","$","jswl","jquery","ui","external_$_default","a","fn","incDataAttrCounter","counterName","$element","this","isDataAttrEmpty","data","toString","oldValue","Number","nthParent","$p","parent","cloneWithDataAttrs","clone","off","unbindAllForChildren","getDataAttrCounter","Error","attrName","dataAttr","external_jswl_default","isEmpty","isAttrEmpty","dataAttrName","attr","$this","find","unbind","removeSmoothly","options","settings","extend","afterRemoveFinishedCallback","afterRemoveFinishedParams","stop","animate","height","width","opacity","remove","scrollMeTo","scrollTop","offset","top","removeSelect2Span","next","select2GetSpan","select2SetError","border-color","border-style","css","formFirstInput","inputSelector","classFilter","filter","outerHTML","getAttrFragment","attributeName","fragmentNumber","str","getSquareBracketedFragmentByNumber","getNameFragment","scrollToMe","scrollableElementSelector","browser","mozilla","scrollParent","renewUniqueId","removeUniqueId","uniqueId","renewUniqueIdsForChildren","removeAttr","AlreadyInitIdsStorage","jutsAlreadyInitIdsStorage","_storageData","checkAndAddIfNeed","elementId","substorageName","isNullOrUndefined","result","inArray","push","parentCloser","parentLevel","parentContainerLevel","containerCallback","$container","each","__deleteParentByLevelForUnique","click","$controlElement","$parent","replaceInChildrenAttrsUsingTemplatesFromDataFileds","searchRegexp","newValue","attributeNames","templateDataFieldAdditionalPart","copyValuesInsteadOtherPlaceholders","checkNameFragmentIsPlaceholderCallback","substr","replaceInAttrsUsingTemplatesFromDataFileds","nameSection","templateValue","templateValueAfterReplacement","forEach","index","array","replace","attrValue","getSquareBracketedFragments","templateFragment","initialFragment","replaceInAttrs","fromFiledsGroupAdderFromHiddenTemplate","addSelector","deleteSelector","templateContainerSelector","filedsGroupSelector","replaceGroupNumerRegexp","parentLevelForDelete","filedGroupsCounterInitValue","afterAddCallback","$addedGroup","addFieldsGroupControlElementSelector","deleteFieldsGroupControlElementSelector","$mainFiedsGroupsContainer","$filedsGroupTemplateContainer","filedsGroupContainerSelector","initAddtionalAfterNewFiledsAdding","researchIndex","self","length","initAddProcess","on","e","addNewFiledsGroup","initDeleteProcess","removeFiledsGroup","$groupElement","$newFiledsGroup","html","appendTo","show","parentInParentContainerDublicator","thisSelector","containerParentLevel","replaceRegexp","afterCloneCallback","attributesToReplaceFromTemplate","attrSubstr","checkForSubstring","__relativeParentInParentContainerDublicatorForUnique","controlElementSelector","$template","$clonedTemplate","hide","val","append"],"mappings":"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","file":"juts-no-jswl.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n","module.exports = $;","module.exports = jswl;","module.exports = jquery-ui;","import $ from 'jquery';\nimport jswl from \"js-wrapper-lib\";\n\n/**\n * Накрутит счетчик в дата-атрибуте данного элемента,\n * или если такого атрибута нет, то\n * \n * Инициаллизирует счетчик  в \n * дата-атрибует данного элемента (подразумевается уникальный)\n * Убедитесь, что передаваемое имя уникального для данного \n * элемента (чтобы он смог поддерживать разные счетчики)/\n * Если такого атрибута нет, то он будет создан со значением 1\n * \n * @see Убедитесь, что ваш элемент выбран по id или \n * относительно id (чтобы он был единственным -- это важно \n * если вы используете)\n * \n * @param {JQuery} $element\n * @param {String} counterName   имя атрибута (будет data-counterName)\n * @returns {undefined}\n */\n$.fn.incDataAttrCounter = function(counterName) {\n\n    var $element = $(this);\n    if ($element.isDataAttrEmpty(counterName)) {\n        $element.data(counterName, (1).toString());\n    } else {\n        var oldValue = $element.data(counterName);\n        $element.data(counterName, (Number(oldValue) + 1).toString());\n    }\n}\n\n/**\n * Получает родиля указанного уровня для данного элемента\n * \n * @param {integer} n  уровень родителя (вверх по дереву DOM)\n *                     Например: уровень папы = 0, прадедушки = 2\n * @returns {type.fn.nthParent.$p}\n */\n$.fn.nthParent = function(n){\n    var $p = $(this);\n    while ( n-- >= 0 )\n    {\n      $p = $p.parent();\n    }\n    return $p;\n};\n\n/**\n * Склонирует элемент и все дата атрибуты, отвязав события\n * от самого элемента и всех его потомков\n * \n * @returns {unresolved}\n */\n$.fn.cloneWithDataAttrs = function() {   \n    var $this = $(this);\n    return $this.clone().off().unbindAllForChildren();\n}\n\n/**\n * \n * Получит значение счетчика, устанавливаемого в data-атрибут с помощью\n * @param {type} counterName\n * @returns {unresolved}\n */\n$.fn.getDataAttrCounter = function(counterName) {      \n    var $element = $(this);\n\n    if ($element.isDataAttrEmpty(counterName)) {\n        throw new Error(\"Counter is with name \", counterName,\n            \"undefined for : \", $element, \" // use $.incDataAttrCounter() at least onse \");\n    }\n\n    return $element.data(counterName);\n}\n\n/**\n * Проверит есть ли data-атрибут с указанным имененем\n * А если есть -- то не пуст ли он.\n * \n * @param {String} attrName\n * @returns {unresolved}\n */\n$.fn.isDataAttrEmpty = function(attrName) {\n\n    var dataAttr = $(this).data(attrName);\n    return (jswl.isEmpty(dataAttr));\n}\n\n\n/**\n * Проверит есть ли атрибут с указанным имененем\n * А если есть -- то не пуст ли он.\n * \n * @param {String} attrName  имя атрибута\n * @returns {unresolved}\n */\n$.fn.isAttrEmpty = function(attrName) {\n\n    var dataAttrName = $(this).attr(attrName);\n    var result = ((typeof(dataAttrName) === 'undefined')\n            || (dataAttrName === false));\n    return result;\n}\n\n/**\n * Отвяжет все обработчики событий от потомков\n * \n * @returns {type.fn.unbindAllForChildren.$this}\n */\n$.fn.unbindAllForChildren = function() {\n    var $this = $(this);\n    $this.find('*').unbind();\n    return $this;\n}\n\n/**\n * Плавно скроет, а затем удалит блок\n * ВНИМАНИЕ: работает асинхронно.\n * \n * @param {object} options настройки\n *   afterRemoveFinishedCallback: function() {} // НЕОБЯЗАТЕЛЬНЫЙ ПАРАМЕТР для вызова после того\n *                            как элемент будет убран из DOM \n *                            (полезно тз-зп асинхронности плагина)\n *   afterRemoveFinishedParams:  {}  // НЕОБЯЗАТЕЛЬНЫЙ ПРАМЕТР параметры для колбека\n * @returns {undefined}\n */\n$.fn.removeSmoothly = function(options) {\n\n    var settings = $.extend({\n        afterRemoveFinishedCallback: function() {},\n        afterRemoveFinishedParams: {}, \n    }, options);\n\n    this.stop().animate({\n            height: \"0px\", // высоту к нулю\n            width: \"0px\", // высоту к нулю\n            opacity: 0, // прозрачность к нулю\n        }, 600, function() {\n            $(this).remove(); // удаляем из DOM (если требуется, если же нет, то \"закомментируйте\" эту строку)\n            settings.afterRemoveFinishedCallback(\n                settings.afterRemoveFinishedParams\n            ); // вызываем колбек\n        }\n    );\n};\n \n\n/**\n * Прокрутит блок (предполагается что родельский) \n * к данному элементу\n * \n * @param {JQuery} $element -- элемент который должен стать видимым\n * @returns {undefined}\n */\n$.fn.scrollMeTo = function($element) {\n    var $this = $(this);\n\n    $this.animate({\n         scrollTop: $element.offset().top\n    }, 600);\n}\n\n\n/**\n * Remove select2 span container\n * \n * @returns {type.fn.removeSelect2Span.$this}\n */\n$.fn.removeSelect2Span = function () {\n    var $this = $(this); // your select\n    var $oldSpan = $this.next('span.select2-container');\n    $oldSpan.remove();\n\n    return $this;\n}\n\n/**\n * Получит основной \"видимый\" элемент select2\n * -- по факту этого span, добавленный сразу после вашего \n * селекта..\n * \n * @returns {type.fn.removeSelect2Span.$this}\n */\n$.fn.select2GetSpan = function () {\n    var $this = $(this); // your select\n    var $select2Span = $this.next('span.select2-container');\n\n    return $select2Span;\n}\n\n/**\n * Выставит CSS для неверного значения (ошибки) в select2 \n * (монжо вызывать например напр. после валидации)\n * \n * @param {object} options   CSS свойства \n * @returns {undefined}\n */\n$.fn.select2SetError = function(options) {\n    var $this = $(this);\n    var settings = $.extend({\n        // These are the defaults.\n        \"border-color\": 'red',\n        \"border-style\": 'solid'\n    }, options);\n\n    var $select2Span = $this.select2GetSpan();\n    $select2Span.css(settings);\n}\n\n/**\n * Получит первый инпут с указаннм селектором\n * \n * Вызывайте например так (для произвольной формы):\n * $(form).formFirstInput('вашСлектро');\n * -- в этом случае поиск будет осуществляться среди вообще \n * всех веб-форм на странице.\n * \n * Реализовано на основании идеи @see http://fkn.ktu10.com/?q=node/9850\n * \n * @param {type} className\n * @returns {type.fn.fromFirstInputWithClass.$result}\n */\n$.fn.formFirstInput = function(inputSelector) {\n    var $this  = $(this);\n\n    if (jswl.isEmpty(inputSelector)) {\n       inputSelector = ''; \n    }\n\n    var classFilter = ':input' + inputSelector + ':first';  \n    var $result = $this.find('*').filter(classFilter);\n\n    return $result;\n}\n\n/**\n * Вернёт весь html код\n * данного элемента, а не только внутренний\n * \n * @returns {string}  весь HTML элемента\n */\n$.fn.outerHTML = function(){\n    var $this = $(this);\n    return $this[0].outerHTML;\n}\n\n\n/**\n * В случае если значение атрибута разделено квадратными скобками\n * (напр. для name сложной формы)\n * получит его фрагмент, например для:\n * people[123][groups][34][2]\n * -- для fragmentNumber: 3 вернёт 34\n * \n * @param {object} options Опции плагина\n * \"attributeName\": 'name', \n   \"fragmentNumber\": 0,\n * @returns string\n */\n$.fn.getAttrFragment = function(options) {\n\n    var $this = $(this);\n    var settings = $.extend({\n        \"attributeName\": 'name',\n        \"fragmentNumber\": 0\n    }, options);\n\n    var str = $this.attr(settings.attributeName);\n\n    return jswl.getSquareBracketedFragmentByNumber(str, settings.fragmentNumber);\n}\n\n/**\n * Получит значение секции атрибута name (имени) по номеру секции\n * Обёртка над $.fn.getAttrFragment для атрибута  name данного элемент\n * \n * ((jquery js get name section subsection string by number))\n * \n * @param   {int} fragmentNumber\n * @returns {string}\n */\n$.fn.getNameFragment = function(fragmentNumber) {\n    var $this = $(this);\n    return $this.getAttrFragment({\"attributeName\": 'name',\n        \"fragmentNumber\": fragmentNumber});\n}","/**\n * Плагин для JqueryUi (с опорой на функционал jqueryui)\n */\n\nimport $ from 'jquery';\nimport 'jquery-ui';\nimport jswl from \"js-wrapper-lib\";\nimport   './juts-common-jquery-plugins.js';\n\n/**\n * Прокрутит страницу к данному блоку\n * .scrollParent() -- метод из JQuery UI,\n * который позволяет опрделить ближайший\n * родительский блок, в котором есть прокрутка\n * \n * @param {string} scrollableElementSelector  строка селектора (можно пустую, \n *  n но тогда будет произведен выбор какого-то старшего родителя \n *  (в зависиости от браузера html или body)\n *    Если вместо селектора передать сторку \"&get-scroll-parent\",\n *  будет произведена попытка использовать .scrollParent() -- метод из JQuery UI,\n *  \n *  \n * @returns {undefined}\n */\n$.fn.scrollToMe = function(scrollableElementSelector) {\n    var $this = $(this); \n    var $scrollableParent = 'none';\n\n    if (jswl.isEmpty(scrollableElementSelector)) {\n        $scrollableParent = $.browser.mozilla ? $('html') : $('body');\n        // $scrollableParent = $this.scrollParent();\n    } else if (scrollableElementSelector === '&get-scroll-parent&') {\n        $scrollableParent = $this.scrollParent();\n    } else {\n\n        $scrollableParent = $(scrollableElementSelector);\n    }\n\n    $scrollableParent.scrollMeTo($this);\n}\n\n/**\n * Удалит uniqueId\n * и заново вызовет функцию uniqueId()\n * Использует функциона jqueryUI \n * \n * @param {type} n\n * @returns {type.fn.renewUniqueId.$p}\n */\n$.fn.renewUniqueId = function(){\n    var $this = $(this);\n    $this.removeUniqueId().uniqueId();\n    return $this;\n\n};\n\n/**\n * Заменит id всех потомков (рекурсивно) на уникальные (или создаст эти id,\n * если их не было)\n * \n * @returns {type.fn.renewUniqueIdsForChildren.$this}\n */\n$.fn.renewUniqueIdsForChildren = function() {\n    var $this = $(this);\n    $this.find('*').removeAttr('id').renewUniqueId();\n    return $this;\n}","\"use strict\";\n\nexport default jutsAlreadyInitIdsStorage;\nimport jswl from \"js-wrapper-lib\";\n\n/**\n * Функции (плагины), данного набора,\n *  привязывающие обработчики на элементы с уникальным id,\n *  могут дописывать в данный объект\n *  поля, в которых хранить списки \n *   id для, которых уже применён данный плагин (необходим чтобы \n *  обработчики одного и того же плагина не вешались\n *  на один и тот же элемент дважды)\n *  \n *  Можно использовать импортировав как AlreadyInitIdsStorage\n *  \n * @returns {object}\n */\n var jutsAlreadyInitIdsStorage = function(){}; \n\n/**\n *  Уже используемые\n * \n * @type Object\n */\njutsAlreadyInitIdsStorage._storageData = {};\n\n/**\n* Проверит наличие элемента в списке __alreadyInitIdsStorage\n*  и если его там не было, то добавит.\n*  Используйте эту функцию, прежде чем привязывать событие в плагинах\n* \n* @param {String} elementId        id элемента, который проверяется на актуальность инициллизации данном плагином\n* @param {String} substorageName   имя хранилища для данной плагина (подразумевается, что один плагин использует хотя бы одно уникальное имя для себя)\n* @returns {Boolean} был ли элемент отмечен как инициллизированный ранее (до вызова этой функции), если не был -- то можете вещать обработчики в вашем плагине\n*/\njutsAlreadyInitIdsStorage.checkAndAddIfNeed = function(elementId, substorageName)\n{\n   /* Инициаллизируем хранилище, на случае если его ещё не было*/\n   if (jswl.isNullOrUndefined(jutsAlreadyInitIdsStorage._storageData[substorageName])) {\n       jutsAlreadyInitIdsStorage._storageData[substorageName] = [];\n   }\n\n   var result = true;\n   if (!jswl.inArray(elementId, jutsAlreadyInitIdsStorage._storageData[substorageName])) {\n       jutsAlreadyInitIdsStorage._storageData[substorageName].push(elementId); // запоминаем значение\n       result = false;\n   } \n\n   return result;\n}\n","/**\n * Удаление/сокрытие родительских элементов\n */\nimport $ from 'jquery';\nimport AlreadyInitIdsStorage from '../common/AlreadyInitIdsStorage.js';\nimport   './juts-common-jquery-plugins.js';\n\n/**\n * Плавно скрываем и удаляем родительский элемент при клике по данному/\n * Является обёрткой для __deleteParentByLevelForUnique()\n * \n * @param {options} options  настройки:\n * \n * parentLevel:     0,          уровень родителя относительно элеента, на который вещается плагин\n parentContainerLevel:   1,   // НЕОБЯЗАТЕЛЬНЫЙ ПАРАМЕТР уровень котейнера родителя (используются в частности для перенумерации элементов после удаления)\n containerCallback : function($container) {}    // НЕОБЯЗАТЕЛЬНЫЙ ПАРАМЕТР колбек для вызова на контейнере \n -- элементе уровня parentContainerLevel, в который происходит дублирование, \n может быть использован, например, для перенумерации потомков, после очередного добавления\n \n * @returns {block-dublicatorL#10.$.fn@call;each|Boolean}\n */\n$.fn.parentCloser = function (options) {\n\n    var settings = $.extend({\n        parentLevel: 0,\n        parentContainerLevel: 1,\n        containerCallback: function ($container) {}\n    }, options);\n\n\n    var elementId = '';\n    $(this).uniqueId();\n    return this.each(function () {\n        elementId = $(this).attr('id');\n\n        if (!AlreadyInitIdsStorage.checkAndAddIfNeed(elementId, 'parentCloser')) {\n            $('#' + elementId).__deleteParentByLevelForUnique(settings);\n        }\n    });\n}\n\n\n\n/**\n * @see НЕ вызывать напрямую!\n * Палавно скрываем и удаляем родительский элемент при клике по данному\n * \n * @param {options} options  настройки:\n * \n * parentLevel:     0,          уровень родителя относительно элеента, на который вещается плагин\n parentContainerLevel:   1,   // НЕОБЯЗАТЕЛЬНЫЙ ПАРАМЕТР уровень котейнера родителя (используются в частности для перенумерации элементов после удаления)\n containerCallback : function($container) {}    // НЕОБЯЗАТЕЛЬНЫЙ ПАРАМЕТР колбек для вызова на контейнере \n -- элементе уровня parentContainerLevel, в который происходит дублирование, \n может быть использован, например, для перенумерации потомков, после очередного добавления\n * @returns {undefined}\n */\n$.fn.__deleteParentByLevelForUnique = function (options) {\n\n    var settings = $.extend({\n        parentLevel: 0,\n        parentContainerLevel: 1,\n        containerCallback: function ($container) {}\n    }, options);\n\n    var $controlElement = $(this);\n    this.click(onClick);\n\n    function onClick() {\n\n        var $controlElement = $(this);\n        var $parent = $controlElement.nthParent(settings.parentLevel);\n        var $container = $controlElement.nthParent(settings.parentContainerLevel);\n\n        $parent.removeSmoothly({\n            afterRemoveFinishedCallback: settings.containerCallback,\n            afterRemoveFinishedParams: $container\n        });\n\n        return false;\n    }\n}","/**\n * Замены в атрибутах\n */\nimport $ from 'jquery';\nimport jswl from \"js-wrapper-lib\";\n\n/**\n * Проведёт замены значений атрибутов ВСЕХ ПОТОМКОВ данного элемента,\n * на значение сформированное из значения\n * специального поля-шаблона, в котором предварительно \n * по регулярному выражению заменяется подстрока\n * \n * @param {type} options -- массив вида (значения по умолчанию):\n *      {\n searchRegexp:     /%fileds_group_number_lavel2%/g,  // Регулярное выражения для подстроки которую надо заменить\n newValue:         '888',                            // Новая подстрока\n attributeNames:   ['name', 'for'],                  // Массив атрибутов, в которых необходимо провести замену\n templateDataFieldAdditionalPart: '-template'  // -- прибавка к имени (для определения data-атрибута)\n // например если замена проходит для атрибута for, \n // то шаблон будет искаться в атрибуте data-for-template\n copyValuesInsteadOtherPlaceholders            // НЕОБЯЗАТЕЛЬНЫЙ ПАРАМЕТР Делать ли замену плейсхолдеров, которые остались в шаблоне после подстановки вместо searchRegexp (основная)\n checkNameFragmentIsPlaceholderCallback        // НЕОБЯЗАТЕЛЬНЫЙ ПАРАМЕТР колбек для определения того, что фрагмент атрибута является плейсхолдером \n }\n * @returns {type.fn.replaceInChildrenAttrsUsingTemplateNameDataAttr.$parent}\n */\n$.fn.replaceInChildrenAttrsUsingTemplatesFromDataFileds = function (options) {\n\n    var $parent = $(this);\n\n    var settings = $.extend({\n        searchRegexp: /%fileds_group_number_lavel2%/g,\n        newValue: '888',\n        attributeNames: ['name', 'for'],\n        templateDataFieldAdditionalPart: '-template',\n        copyValuesInsteadOtherPlaceholders: false,\n        checkNameFragmentIsPlaceholderCallback: function (substr) {\n            return false;\n        }\n\n    }, options);\n\n    $parent.find('*').each(function ()\n    {\n        var $current = $(this);\n        $current.replaceInAttrsUsingTemplatesFromDataFileds(settings);\n    })\n\n    return $parent;\n}\n\n\n\n/**\n * Проведёт замены значений атрибутов данного элемента,\n * на значения сформированные из значений\n * специальных полей-шаблонов \n * (для каждого искомого атрибута такой data-атрибут-шаблон\n * должен существовать, иначе никаких действий для данного \n * атрибута произведено не будет), в котором предварительно \n * по регулярному выражению заменяется подстрока\n * \n * @param {type} options -- массив вида (значения по умолчанию):\n *      {\n searchRegexp:     /%fileds_group_number_lavel2%/g,  // Регулярное выражения для подстроки которую надо заменить\n newValue:         '888',                            // Новая подстрока\n attributeNames:   ['name', 'for'],                  // Массив атрибутов, в которых необходимо провести замену\n templateDataFieldAdditionalPart: '-template'  // -- прибавка к имени (для определения data-атрибута)\n // например если замена проходит для атрибута for, \n // то шаблон будет искаться в атрибуте data-for-template\n copyValuesInsteadOtherPlaceholders            // НЕОБЯЗАТЕЛЬНЫЙ ПАРАМЕТР Делать ли замену плейсхолдеров, которые остались в шаблоне после подстановки вместо searchRegexp (основная)\n checkNameFragmentIsPlaceholderCallback        // НЕОБЯЗАТЕЛЬНЫЙ ПАРАМЕТР колбек для определения того, что фрагмент атрибута является плейсхолдером                                        \n }\n * @returns {type.fn.replaceInChildrenAttrsUsingTemplateNameDataAttr.$parent}\n */\n$.fn.replaceInAttrsUsingTemplatesFromDataFileds = function (options) {\n\n    var $this = $(this);\n\n    var settings = $.extend({\n        searchRegexp: /%fileds_group_number_lavel2%/g,\n        newValue: '888',\n        attributeNames: ['name', 'for'],\n        templateDataFieldAdditionalPart: '-template',\n        copyValuesInsteadOtherPlaceholders: false,\n        checkNameFragmentIsPlaceholderCallback: function (nameSection) {\n            return false;\n        }\n\n    }, options);\n\n    var templateValue = '';\n    var templateValueAfterReplacement = '';\n    settings.attributeNames.forEach(function (attrName, index, array) {\n        templateValue = $this.attr('data-' + attrName + settings.templateDataFieldAdditionalPart);\n        if (!jswl.isEmpty(templateValue)) {\n            templateValueAfterReplacement = templateValue.replace(\n                    settings.searchRegexp,\n                    settings.newValue\n                    );\n\n            if ((attrName === 'name') // если работаем с атрибутом name\n                    && settings.copyValuesInsteadOtherPlaceholders) {\n                var attrValue = $this.attr(attrName);\n                var templateNameFragments = jswl.getSquareBracketedFragments(templateValueAfterReplacement);\n\n                templateNameFragments.forEach(function (templateFragment, index, array) {\n\n                    if (settings.checkNameFragmentIsPlaceholderCallback(templateFragment)\n                            && !jswl.isEmpty(attrValue)) { // если это заглушка (плейсхолдер) и есть из чего копировать       \n                        var initialFragment = jswl.getSquareBracketedFragmentByNumber(attrValue, index);\n                        if (!jswl.isEmpty(initialFragment)) { // если и в исходном (заменяемом значении) этот фрагмент не пуст\n\n                            templateValueAfterReplacement = templateValueAfterReplacement.replace(\n                                    templateFragment,\n                                    initialFragment\n                                    );\n                        }\n                    }\n                });\n            }\n\n            $this.attr(\n                    attrName,\n                    templateValueAfterReplacement\n                    );\n        }\n    });\n\n    return $this;\n}\n\n/**\n * Проведёт замену подстроки по указанному регулярному выражению\n * в списке указанных атрибутов\n * \n * @param {regexp} searchRegexp    Регулярное выражения для подстроки которую надо заменить\n * @param {literal} newValue       Новая подстрока\n * @param {array} attributeNames   Массив атрибутов, в которых необходимо провести замену\n * @returns {type.fn.replaceInAttrs.$parent}\n */\n$.fn.replaceInAttrs = function (searchRegexp, newValue, attributeNames) {\n    var $this = $(this);\n\n    var oldValue = '';\n\n    attributeNames.forEach(function (attrName, index, array) {\n        oldValue = $this.attr(attrName);\n        $this.attr(attrName, oldValue.replace(searchRegexp, newValue));\n    });\n\n    return $this;\n}","import $ from 'jquery';\nimport   '../common-plugins/juts-common-jquery-plugins.js';\n\n/**\n * Плагин добавления групп полей на форму,\n * подразумевается к вызову на конкретонм элементе (контейнере всех групп)\n * по уникальному селектору\n * \n * Плагин НЕ обеспечивает непрерыной нумерации групп полей\n * в общем случае после окончани редактирования формы\n * (в случае удалений некоторых групп полей пользоватлем),\n * НО пришедшие с бэкэнда или добавленные на форму любым другим\n * способом группы полей (т.е. не спомощью данного плагина)\n * ДОЛЖНЫ БЫТЬ пронумерованы НЕПРЕРЫВНО\n * \n * @returns {type.fn.unbindAllForChildren.$this}\n */\n$.fn.fromFiledsGroupAdderFromHiddenTemplate = function (options) {\n\n\n    var $this = $(this);\n\n    var settings = $.extend({\n        addSelector: \"#add-group\",\n        deleteSelector: \".delete-group\",\n        templateContainerSelector: '#template-container',\n        filedsGroupSelector: '.template-selector',\n        replaceGroupNumerRegexp: /%fileds_group_number%/g,\n        parentLevelForDelete: 0,\n        filedGroupsCounterInitValue: 0,\n        afterAddCallback: function ($addedGroup) {}\n\n    }, options);\n\n    /*-----------------начало обязательно переопределяемого в потомках блока ------------------*/\n\n    /**\n     * По клику по нему очередная группа полей будет добавляться в форму\n     * \n     * @type String\n     */\n    var addFieldsGroupControlElementSelector = settings.addSelector;\n\n\n    /**\n     * По клику по этому элементу будет удаляться\n     * содержащий его блок c полями (группа полей)\n     * \n     * @type String\n     */\n    var deleteFieldsGroupControlElementSelector = settings.deleteSelector;\n\n    /**\n     * В этот элемент мы будет добавляеть группы полей,\n     * а также удалять их их него если потребуется\n     * \n     * @type window.$|jQuery|$|_$|@pro;window@pro;$|Window.$\n     */\n    var $mainFiedsGroupsContainer = $this;\n\n    /**\n     * Используется для извлечения создержимого --\n     * подразумевается, что это скрытый блок-шаблон\n     * для группы полей, где в дальнейшем будет\n     * произведена замена имени\n     * \n     * @type window.$|jQuery|$|_$|@pro;window@pro;$|Window.$\n     */\n    var $filedsGroupTemplateContainer = $(settings.templateContainerSelector);\n\n    /*\n     * Селектор элемента, в который завернуты поля одной группы (по-идее класс)\n     * -- исходный скрытый элемент, по-идее id\n     * \n     * @type String\n     */\n    var filedsGroupContainerSelector = settings.filedsGroupSelector;\n\n\n\n    /**\n     * Регулярное выражение, подстроку извлечённую из него\n     * будем заменять на текущее значение researchIndex\n     * \n     *  Например, если в вашем случае пэйсхолдером (обычно его размещаю в имени элементов input)\n     *  является подстрока %element-index%, например:\n     *  <input placeholder=\"возраст\" name=\"person-list[%element-index%][age]\" type=\"text\">\n     *   то надо в качестве значения данного свойства\n     *   нужно указать указать /%element-index%/g\n     * \n     * @type RegExp\n     */\n    var replaceGroupNumerRegexp = settings.replaceGroupNumerRegexp;\n\n\n    /**\n     * Производим дополнительные действия после \n     * добавления группы полей, например,\n     * привязываем к некторорым полям группы специфические обработчики и т.д.\n     * \n     * @returns {undefined}\n     */\n    this.initAddtionalAfterNewFiledsAdding = settings.afterAddCallback;\n\n    /*-----------------конец обязательно переопределяемого в потомках блока ------------------*/\n\n\n    /**\n     * Фактически число -- при инициаллизации класса в него \n     * попадёт число уже имеющихся групп полей.\n     * Используется в качестве индекса при добавлении новых групп/\n     * \n     * Подразумевается, что добавленные на страницу статически (с бэкэнда)\n     * блоки должны нумероваться с нуля\n     * \n     * @type jQuery.prototype.pushStack.ret.length|jQuery.length\n     */\n    var researchIndex = settings.filedGroupsCounterInitValue;\n\n    /**\n     * Для вызова методов класса из других методов, вызванных в обработчиках\n     */\n    var self = this; // ВАЖНО: назначим псевдоним\n\n\n\n\n    /* тут надо написать нормальноую инициаллизацию извне */\n\n    researchIndex = researchIndex + $mainFiedsGroupsContainer.find(filedsGroupContainerSelector).length; // определяем исходное (пришедшее с бэкэнда) число групп полей\n\n    /**\n     * Добавление группы полей (прикручиваем обработчики)\n     * \n     * @returns {undefined}\n     */\n    this.initAddProcess = function () {\n\n        $(addFieldsGroupControlElementSelector).off(\"click\"); // вырубаем иные обработчики\n        $(addFieldsGroupControlElementSelector).on(\"click\", function (e) { // добавляем блок с полями\n            self.addNewFiledsGroup();\n            self.initDeleteProcess();\n            self.initAddtionalAfterNewFiledsAdding();\n\n            return false;\n        });\n    }\n\n    /**\n     * Удаление группы полей (прикручиваем обработчики)\n     * \n     * @returns {undefined}\n     */\n    this.initDeleteProcess = function () {\n\n        /* Удаление группы полей */\n        $(deleteFieldsGroupControlElementSelector).on(\"click\", function () { // удаляем элемент\n            var $element = $(this).nthParent(settings.parentLevelForDelete); // получаем родителя\n\n            self.removeFiledsGroup($element);\n            return false;\n        });\n    }\n\n\n\n    /**\n     * Добавит новую группу полей в основной контейнер\n     * \n     * @param {type} $groupElement\n     * @returns {undefined}\n     */\n    this.removeFiledsGroup = function ($groupElement) {\n        $groupElement.stop().animate({// анимация средствами JQuery\n            height: \"0px\", // высоту к нулю\n            width: \"0px\", // высоту к нулю\n            opacity: 0, // прозрачность к нулю\n        }, 600, function () {\n            $(this).remove();\n        }\n        );\n\n    }\n\n    /**\n     * Добавит новую группу полей в основной контейнер\n     * @returns {Boolean}\n     */\n    this.addNewFiledsGroup = function () {\n\n        var $newFiledsGroup = $($filedsGroupTemplateContainer.html()\n                .replace(replaceGroupNumerRegexp, researchIndex));\n        $newFiledsGroup.find('*').removeAttr('id'); // все потомки должны быть неуникальными\n\n        $newFiledsGroup.appendTo($mainFiedsGroupsContainer).show('slow');\n\n        researchIndex++;\n\n        return false;\n    }\n\n\n    self.initAddProcess();\n    self.initDeleteProcess();\n\n}","import $ from 'jquery';\nimport AlreadyInitIdsStorage from '../common/AlreadyInitIdsStorage.js';\nimport jswl from \"js-wrapper-lib\";\n\n/**\n * По клику на элемент Дублирует родительский блок указаного уровня, \n * в родительский контейнер указаного уровня\n * (в реализации использованы относительные селекторы).\n * Таким образом сам управляющий элемент тоже окажется продублированным.\n * \n * По факту является обёрткой для $('').__relativeParentInParentContainerDublicatorForUnique(), которая проверяет, \n * которая добавляет все выбранным элементам уникальный id (если такового нет),\n * а затем уже каждому из них по уникальному селектору назначает обработчик,\n * который будет отсчитывать родителей от конкретного уникального элемента.\n * \n * \n * {\n \"thisSelector\": '',            селектор элемента на который вещается плагин (управляющего, того,\n по которому пользователь будет длеать клик при дублировании блока)\n \"containerParentLevel\": 1,      уровень родительского контейнера \n (в который добавляем)\n \"parentLevel\": 0,               уровень родителя (папа = 0) (копию \n которого добавляем в родительский блок с уровнем containerParentLevel)   \n \"replaceRegexp\": /%plholder%/g, регулярное выражение для замены \n в аттрибутах подстроки на порядокый номер данного элемента в родителе\n \"afterCloneCallback\": function($addedGroup) {}    НЕ ОБЯЗАТЕЛЕН: эта функция будет \n вызвна для копируемого шаблона (вы можете провести дополнительные инициллизации)\n attributesToReplaceFromTemplate:   ['name', 'for', 'class'], // НЕОБЯЗАТЕЛЬНЫЙ ПАРАМЕТР Массив атрибутов \n каждого клонированного элемента (внутри склонированного блока),\n в которых необходимо провести замену из шаблона, определяемого templateDataFieldAdditionalPart\n templateDataFieldAdditionalPart: '-template' // НЕОБЯЗАТЕЛЬНЫЙ ПАРАМЕТР прибавка к имени (для определения data-атрибута)\n например если замена проходит для атрибута for, \n то шаблон будет искаться в атрибуте data-for-template\n \n copyValuesInsteadOtherPlaceholders      // НЕОБЯЗАТЕЛЬНЫЙ ПАРАМЕТР Делать ли замену плейсхолдеров, которые остались в шаблоне значения атрибута после подстановки вместо replaceRegexp (основная)\n checkNameFragmentIsPlaceholderCallback:: function(attrSubstr) {   // НЕОБЯЗАТЕЛЬНЫЙ ПАРАМЕТР колбек для определения того, что фрагмент атрибута является плейсхолдером \n        return jswl.checkForSubstring(attrSubstr, '%');\n    },\n containerCallback : function($container) {}    // НЕОБЯЗАТЕЛЬНЫЙ ПАРАМЕТР колбек для вызова на контейнере \n -- элементе уровня containerParentLevel, в который происходит дублирование, \n может быть использован, например, для перенумерации потомков, после очередного добавления\n }\n * @param {object}   options          настройки.\n * @returns {window.$|jQuery|$|_$|@pro;window@pro;$|Window.$}\n */\n$.fn.parentInParentContainerDublicator = function (options) {\n\n    var $this = $(this);\n    var settings = $.extend({\n        \"thisSelector\": '',\n        \"containerParentLevel\": 1,\n        \"parentLevel\": 0,\n        \"replaceRegexp\": /%fields_group_number_2%/g,\n        afterCloneCallback: function ($addedGroup) {},\n        attributesToReplaceFromTemplate: ['name', 'for', 'class'],\n        templateDataFieldAdditionalPart: '-template',\n        copyValuesInsteadOtherPlaceholders: false,\n        checkNameFragmentIsPlaceholderCallback: function (attrSubstr) {\n            return jswl.checkForSubstring(attrSubstr, '%');\n        },\n        containerCallback: function ($container) {}\n    }, options);\n\n\n\n    $(this).uniqueId();\n    var elementId = '';\n    return this.each(function () {\n        elementId = $(this).attr('id');\n\n        if (!AlreadyInitIdsStorage.checkAndAddIfNeed(elementId,\n                'parentInParentContainerDublicator')) {\n\n            $('#' + elementId).__relativeParentInParentContainerDublicatorForUnique(\n                    settings);\n        }\n    });\n}\n\n/**\n* @see НЕ вызывать напрямую!\n* \n* По клику на элемент Дублирует родительский блок указаного уровня, \n* в родительский контейнер указаного уровня\n* (в реализации использованы относительные селекторы)\n* \n* {\n   \"thisSelector\": '',            селектор элемента на который вещается плагин (управляющего, того,\n                                      по которому пользователь будет длеать клик при дублировании блока)\n   \"containerParentLevel\": 1,      уровень родительского контейнера \n                                           (в который добавляем)\n   \"parentLevel\": 0,               уровень родителя (папа = 0) (копию \n                                           которого добавляем в родительский блок с уровнем containerParentLevel)   \n   \"replaceRegexp\": /%plholder%/g, регулярное выражение для замены \n                                      в аттрибутах подстроки на порядокый номер данного элемента в родителе\n   \"afterCloneCallback\": function($addedGroup) {}  // НЕОБЯЗАТЕЛЬНЫЙ ПАРАМЕТР эта функция будет \n                                         вызвна для копируемого шаблона (вы можете провести дополнительные инициллизации)\n   attributesToReplaceFromTemplate:   ['name', 'for', 'class'], // НЕОБЯЗАТЕЛЬНЫЙ ПАРАМЕТР Массив атрибутов \n                                      каждого клонированного элемента (внутри склонированного блока),\n                                      в которых необходимо провести замену из шаблона, определяемого templateDataFieldAdditionalPart\n   templateDataFieldAdditionalPart: '-template' // НЕОБЯЗАТЕЛЬНЫЙ ПАРАМЕТР прибавка к имени (для определения data-атрибута)\n                                       например если замена проходит для атрибута for, \n                                           то шаблон будет искаться в атрибуте data-for-template\n\n   copyValuesInsteadOtherPlaceholders      // НЕОБЯЗАТЕЛЬНЫЙ ПАРАМЕТР Делать ли замену плейсхолдеров, которые остались в шаблоне значения атрибута после подстановки вместо replaceRegexp (основная)\n   checkNameFragmentIsPlaceholderCallback  // НЕОБЯЗАТЕЛЬНЫЙ ПАРАМЕТР колбек для определения того, что фрагмент атрибута является плейсхолдером \n   containerCallback : function($container) {}    // НЕОБЯЗАТЕЛЬНЫЙ ПАРАМЕТР колбек для вызова на контейнере \n                -- элементе уровня containerParentLevel, в который происходит дублирование, \n               может быть использован, например, для перенумерации потомков, после очередного добавления\n   }\n* @param {object}   options          настройки.\n* @returns {window.$|jQuery|$|_$|@pro;window@pro;$|Window.$}\n*/\n$.fn.__relativeParentInParentContainerDublicatorForUnique = function(options) {\n\n    var $this = $(this);\n    var settings = $.extend({\n       \"thisSelector\": '', \n       \"containerParentLevel\": 1,   \n       \"parentLevel\": 0, \n       \"replaceRegexp\": /%fields_group_number_2%/g,\n       afterCloneCallback: function($addedGroup) {},\n       attributesToReplaceFromTemplate:  ['name', 'for', 'class'],\n       templateDataFieldAdditionalPart: '-template',\n       copyValuesInsteadOtherPlaceholders: false, \n       checkNameFragmentIsPlaceholderCallback: function(substr) {\n           return false;\n       },\n       containerCallback: function($container) {} \n           }, options);\n\n    var controlElementSelector = settings.thisSelector; \n\n//        console.log('copy other:', settings.copyValuesInsteadOtherPlaceholders);\n//        console.log('bind on:', $this);\n\n    var $controlElement = $(this);\n    var $container = $controlElement.nthParent(settings.containerParentLevel);\n    var $template =  $controlElement.nthParent(settings.parentLevel);\n\n    $container.incDataAttrCounter(settings.thisSelector); // фактически докрутит счетчик до нужного значения, по числу элементов в контейнере ещё до лкика на добавление очередного \n\n    this.click(onClick);\n\n    function onClick(){ \n\n       var $clonedTemplate = $template.cloneWithDataAttrs();\n\n       $clonedTemplate.hide();\n       $clonedTemplate.find('*').removeAttr('id'); // удаляем id всех элементах скопированного шаблона, чтобы блок был \"нейтральным\"\n\n\n       $clonedTemplate.replaceInChildrenAttrsUsingTemplatesFromDataFileds({\n           searchRegexp:     settings.replaceRegexp,\n           newValue:         $container.getDataAttrCounter(settings.thisSelector),\n           attributeNames:   settings.attributesToReplaceFromTemplate,\n           templateDataFieldAdditionalPart: settings.templateDataFieldAdditionalPart,\n           copyValuesInsteadOtherPlaceholders: settings.copyValuesInsteadOtherPlaceholders, \n           checkNameFragmentIsPlaceholderCallback: \n                   settings.checkNameFragmentIsPlaceholderCallback\n           }\n       );\n\n       $clonedTemplate.find('input').val('');\n\n       $container.append($clonedTemplate);\n       settings.afterCloneCallback($clonedTemplate); // выполняем необходимые действия типа привязки событий\n       settings.containerCallback($container); // перенумеровываем элементы\n       $clonedTemplate.show('slow');\n\n\n       var $newContorlElement = $clonedTemplate.find(controlElementSelector);\n\n       $newContorlElement.parentInParentContainerDublicator(settings);\n\n       return false;\n   }\n}\n"],"sourceRoot":""}